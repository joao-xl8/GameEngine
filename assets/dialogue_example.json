{
  "npc_name": "Village Elder",
  "starting_node": 0,
  "dialogue_tree": {
    "0": {
      "id": 0,
      "speaker": "Village Elder",
      "text": "Welcome, traveler! I haven't seen you around these parts before. What brings you to our humble village?",
      "choices": [
        {
          "text": "I'm just passing through.",
          "next_node": 1,
          "condition": null,
          "action": null
        },
        {
          "text": "I'm looking for work.",
          "next_node": 2,
          "condition": null,
          "action": "set_flag:looking_for_work"
        },
        {
          "text": "I seek the ancient ruins.",
          "next_node": 3,
          "condition": "has_flag:heard_about_ruins",
          "action": null
        }
      ],
      "on_enter": null,
      "on_exit": null,
      "is_end_node": false
    },
    "1": {
      "id": 1,
      "speaker": "Village Elder",
      "text": "Safe travels then, young one. Be careful on the roads - there have been strange creatures about lately.",
      "choices": [
        {
          "text": "Thank you for the warning.",
          "next_node": -1,
          "condition": null,
          "action": "add_experience:10"
        },
        {
          "text": "What kind of creatures?",
          "next_node": 4,
          "condition": null,
          "action": null
        }
      ],
      "on_enter": null,
      "on_exit": null,
      "is_end_node": false
    },
    "2": {
      "id": 2,
      "speaker": "Village Elder",
      "text": "Ah, a worker! We could use someone like you. The old mine has been overrun with goblins. Clear it out and I'll pay you 100 gold.",
      "choices": [
        {
          "text": "I accept the job.",
          "next_node": -1,
          "condition": null,
          "action": "start_quest:clear_mine"
        },
        {
          "text": "That sounds too dangerous.",
          "next_node": 1,
          "condition": null,
          "action": null
        }
      ],
      "on_enter": "play_sound:quest_available",
      "on_exit": null,
      "is_end_node": false
    },
    "3": {
      "id": 3,
      "speaker": "Village Elder",
      "text": "The ruins... yes, I know of them. But they are cursed, young one. Many have entered, few have returned. Are you certain this is your path?",
      "choices": [
        {
          "text": "I must try. It's my destiny.",
          "next_node": 5,
          "condition": null,
          "action": null
        },
        {
          "text": "Perhaps you're right. I should reconsider.",
          "next_node": 1,
          "condition": null,
          "action": null
        }
      ],
      "on_enter": "play_music:mysterious_theme",
      "on_exit": null,
      "is_end_node": false
    },
    "4": {
      "id": 4,
      "speaker": "Village Elder",
      "text": "Shadow wolves, mostly. They appear at night and seem to be drawn to something in the old ruins. Some say they guard ancient treasures.",
      "choices": [
        {
          "text": "Interesting. Thank you for the information.",
          "next_node": -1,
          "condition": null,
          "action": "set_flag:knows_about_shadow_wolves"
        }
      ],
      "on_enter": null,
      "on_exit": null,
      "is_end_node": false
    },
    "5": {
      "id": 5,
      "speaker": "Village Elder",
      "text": "Very well. Take this ancient key - it may help you in the ruins. But remember, I warned you of the dangers.",
      "choices": [
        {
          "text": "Thank you, elder. I won't forget your kindness.",
          "next_node": -1,
          "condition": null,
          "action": "give_item:ancient_key"
        }
      ],
      "on_enter": null,
      "on_exit": "set_flag:received_ancient_key",
      "is_end_node": true
    }
  }
}
